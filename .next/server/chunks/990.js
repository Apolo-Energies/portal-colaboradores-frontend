exports.id=990,exports.ids=[990],exports.modules={8522:(a,b,c)=>{"use strict";c.d(b,{k:()=>e});var d=c(60687);c(43210);let e=({value:a,className:b=""})=>(0,d.jsx)("div",{className:`relative w-full h-2 rounded-full bg-secondary overflow-hidden ${b}`,role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,children:(0,d.jsx)("div",{className:"h-full bg-primary transition-all duration-300 ease-in-out",style:{width:`${a}%`}})})},9804:(a,b,c)=>{"use strict";c.d(b,{P:()=>d});let d=(0,c(26787).v)(a=>({open:!1,toggle:()=>a(a=>({open:!a.open})),close:()=>a({open:!1})}))},31147:(a,b,c)=>{"use strict";c.d(b,{b:()=>e});var d=c(60687);function e({data:a,columns:b,rowKey:c}){return(0,d.jsx)("div",{className:"bg-card rounded-xl shadow-sm border border-border overflow-hidden",children:(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)("table",{className:"w-full table-auto",children:[(0,d.jsx)("thead",{className:"bg-card border-b border-border",children:(0,d.jsx)("tr",{children:b?.map(a=>(0,d.jsx)("th",{className:`px-6 py-4 text-xs font-medium text-muted-foreground uppercase tracking-wider text-${a.align||"left"}`,children:a.label},a.key))})}),(0,d.jsx)("tbody",{className:"bg-body divide-y divide-gray-200",children:a?.map(a=>(0,d.jsx)("tr",{className:"hover:bg-body transition-colors",children:b?.map(b=>(0,d.jsx)("td",{className:`px-6 py-4 whitespace-nowrap text-${b.align||"left"}`,children:b?.render?b.render(a):String(a[b.key]??"")},b.key))},String(a[c])))})]})})})}c(43210)},36205:(a,b,c)=>{"use strict";c.d(b,{a:()=>e});var d=c(51060);process.env.NODE_TLS_REJECT_UNAUTHORIZED="0";let e=d.A.create({baseURL:"https://api.apoloenergies.es/api/apolo/v1",responseType:"json",withCredentials:!0})},36659:(a,b,c)=>{"use strict";c.d(b,{Sidebar:()=>s});var d=c(60687),e=c(43210),f=c(9804),g=c(30382),h=c(41312),i=c(6727),j=c(77306);let k=[{title:"Comparador",url:"/dashboard/Comparador",icon:g.A,roles:["Master","Colaborador"]},{title:"Usuarios",url:"/dashboard/Users",icon:h.A,roles:["Master"]},{title:"Historial Comparador",url:"/dashboard/HistorialComparador",icon:i.A,roles:["Master"]},{title:"Comision",url:"/dashboard/Comision",icon:j.A,roles:["Master"]}];var l=c(16189),m=c(30474),n=c(85814),o=c.n(n),p=c(10218),q=c(99208);let r=()=>{let a=(0,l.usePathname)(),{theme:b}=(0,p.D)(),{data:c,update:f}=(0,q.wV)(),[g,h]=(0,e.useState)(!1);(0,e.useEffect)(()=>{c&&!g&&(f(),h(!0))},[c,g,f]);let i=c?.user.role||"",j=k.filter(a=>a.roles.includes(i));return(0,d.jsxs)("div",{className:"w-64 bg-card border-r border-border h-full",children:[(0,d.jsx)(o(),{href:"/dashboard",className:"flex justify-center items-center w-full h-20 py-4 px-2",children:(0,d.jsx)("div",{className:"relative w-full h-full max-w-xs",children:(0,d.jsx)(m.default,{src:"dark"===b?"/logos/apolologo2.webp":"/logos/apolologo.webp",alt:"Apolo Energies",fill:!0,style:{objectFit:"contain"},priority:!0})})}),(0,d.jsx)("nav",{className:"px-3",children:j.map((b,c)=>{let e=a===b.url;return(0,d.jsx)(o(),{href:b.url,children:(0,d.jsxs)("button",{className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors mb-1 cursor-pointer
                ${e?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[(0,d.jsx)(b.icon,{className:`w-4 h-4 ${e?"text-sidebar-selected-text":"text-sidebar-text"}`}),(0,d.jsx)("span",{className:"text-sm font-medium",children:b.title})]})},c)})})]})},s=()=>{let{open:a,close:b}=(0,f.P)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"hidden md:block",children:(0,d.jsx)(r,{})}),a&&(0,d.jsxs)("div",{className:"fixed inset-0 z-50 flex md:hidden",children:[(0,d.jsx)(r,{}),(0,d.jsx)("div",{className:"flex-1 bg-black/50",onClick:b})]})]})}},46066:(a,b,c)=>{"use strict";c.d(b,{Header:()=>p});var d=c(60687),e=c(12941),f=c(43210),g=c(10411),h=c(56990),i=c(58869),j=c(84027),k=c(40083),l=c(6475);let m=(0,l.createServerReference)("7ffeb573ccd14c9503d45c735284a7ef33c911f7ce",l.callServer,void 0,l.findSourceMapURL,"logout"),n=()=>{let[a,b]=(0,f.useState)(!1),c=(0,f.useRef)(null);return(0,f.useEffect)(()=>{let a=a=>{c.current&&!c.current.contains(a.target)&&b(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),(0,d.jsxs)("div",{className:"relative",ref:c,children:[(0,d.jsx)(h.$,{variant:"outline",size:"icon",className:"rounded-full",onClick:()=>b(a=>!a),children:(0,d.jsx)(i.A,{className:"w-4 h-4"})}),a&&(0,d.jsx)("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-md bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 z-50",children:(0,d.jsxs)("ul",{className:"py-1 text-sm text-gray-700 dark:text-gray-200",children:[(0,d.jsxs)("li",{onClick:()=>{b(!1)},className:"flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[(0,d.jsx)(j.A,{className:"w-4 h-4"}),"Configuraci\xf3n"]}),(0,d.jsxs)("li",{onClick:()=>{b(!1)},className:"flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[(0,d.jsx)(i.A,{className:"w-4 h-4"}),"Mi perfil"]}),(0,d.jsx)("form",{action:async()=>{b(!1),await m()},children:(0,d.jsxs)("button",{type:"submit",className:"flex w-full items-center gap-2 px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20 cursor-pointer",children:[(0,d.jsx)(k.A,{className:"w-4 h-4"}),"Cerrar sesi\xf3n"]})})]})})]})};var o=c(9804);let p=()=>{let{toggle:a}=(0,o.P)();return(0,d.jsx)("header",{className:"h-16 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,d.jsxs)("div",{className:"flex h-16 items-center justify-between px-6",children:[(0,d.jsx)(h.$,{onClick:a,variant:"outline",size:"icon",className:"md:hidden",children:(0,d.jsx)(e.A,{className:"w-4 h-4"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-xl sm:text-lg md:text-xl font-semibold text-foreground",children:"APOLO ENERGIES"}),(0,d.jsx)("p",{className:"text-sm sm:text-xs md:text-sm text-muted-foreground",children:"Portal de colaboradores"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)(g.ModeToggle,{}),(0,d.jsx)(n,{})]})]})})}},49242:(a,b,c)=>{"use strict";c.d(b,{l:()=>f});var d=c(60687),e=c(11860);let f=({open:a,onClose:b,children:c,className:f})=>a?(0,d.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4",children:(0,d.jsxs)("div",{className:`relative w-full max-w-lg rounded-xl p-6 shadow-xl bg-card text-card-foreground ${f}`,children:[(0,d.jsxs)("button",{onClick:b,className:"absolute cursor-pointer top-4 right-4 text-muted-foreground hover:text-foreground",children:[(0,d.jsx)(e.A,{className:"w-5 h-5"}),(0,d.jsx)("span",{className:"sr-only",children:"Cerrar"})]}),c]})}):null},51823:(a,b,c)=>{Promise.resolve().then(c.bind(c,52421)),Promise.resolve().then(c.bind(c,21843)),Promise.resolve().then(c.bind(c,76718)),Promise.resolve().then(c.bind(c,84625))},52421:(a,b,c)=>{"use strict";c.d(b,{Sidebar:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call Sidebar() from the server but Sidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\trabajo_apolo\\proyectos\\apolo-frontend\\src\\components\\sidebar\\Sidebar.tsx","Sidebar")},60071:(a,b,c)=>{Promise.resolve().then(c.bind(c,36659)),Promise.resolve().then(c.bind(c,98189)),Promise.resolve().then(c.bind(c,46066)),Promise.resolve().then(c.bind(c,515))},63144:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i});var d=c(37413),e=c(76718),f=c(52421),g=c(84625),h=c(21843);function i({children:a}){return(0,d.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,d.jsx)(f.Sidebar,{}),(0,d.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,d.jsx)(e.Header,{}),(0,d.jsx)("main",{className:"flex-1 overflow-x-hidden bg-body overflow-y-auto px-6 pt-2 pb-6",children:a})]}),(0,d.jsx)(g.LoadingOverlay,{}),(0,d.jsx)(h.Alert,{})]})}},67757:(a,b,c)=>{"use strict";c.d(b,{LL:()=>g,LZ:()=>i,RU:()=>h,Z9:()=>f});var d=c(51060),e=c(36205);let f=async a=>{try{let b=await e.a.get("/commission",{headers:{Authorization:`Bearer ${a}`},withCredentials:!1});return{result:b.data.result,status:b.status,isSuccess:!0,displayMessage:b.data.displayMessage??"",errorMessages:[]}}catch(a){if(console.error("Get users error:",a),d.A.isAxiosError(a))return{result:[],status:a.response?.status??500,isSuccess:!1,displayMessage:a.response?.data?.displayMessage??"Unknown error",errorMessages:[a.message]};return{result:[],status:500,isSuccess:!1,displayMessage:"Unknown error",errorMessages:["An unexpected error occurred"]}}},g=async(a,b)=>{try{let c=await e.a.post("/commission/create",b,{headers:{Authorization:`Bearer ${a}`},withCredentials:!1});return{result:c.data.result,status:c.status,isSuccess:!0,displayMessage:c.data.displayMessage??"",errorMessages:[]}}catch(a){if(console.error("Register user error:",a),d.A.isAxiosError(a))return{result:{},status:a.response?.status??500,isSuccess:!1,displayMessage:a.response?.data?.displayMessage??"Unknown error",errorMessages:[a.message]};return{result:{},status:500,isSuccess:!1,displayMessage:"Unknown error",errorMessages:["An unexpected error occurred"]}}},h=async(a,b)=>{try{let c=await e.a.post("/usercommission/assign",b,{headers:{Authorization:`Bearer ${a}`},withCredentials:!1});return{result:c.data.result,status:c.status,isSuccess:!0,displayMessage:c.data.displayMessage??"",errorMessages:[]}}catch(a){if(console.error("Assign commission error:",a),d.A.isAxiosError(a))return{result:{},status:a.response?.status??500,isSuccess:!1,displayMessage:a.response?.data?.displayMessage??"Unknown error",errorMessages:[a.message]};return{result:{},status:500,isSuccess:!1,displayMessage:"Unknown error",errorMessages:["An unexpected error occurred"]}}},i=async(a,b)=>{try{let c=await e.a.put(`/commission/update/${b.id}`,b,{headers:{Authorization:`Bearer ${a}`},withCredentials:!1});return{result:c.data.result,status:c.status,isSuccess:!0,displayMessage:c.data.displayMessage??"",errorMessages:[]}}catch(a){if(console.error("Register user error:",a),d.A.isAxiosError(a))return{result:{},status:a.response?.status??500,isSuccess:!1,displayMessage:a.response?.data?.displayMessage??"Unknown error",errorMessages:[a.message]};return{result:{},status:500,isSuccess:!1,displayMessage:"Unknown error",errorMessages:["An unexpected error occurred"]}}}},70025:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(26787).v)(a=>({reloadFlag:!1,triggerReload:()=>a(a=>({reloadFlag:!a.reloadFlag}))}))},76718:(a,b,c)=>{"use strict";c.d(b,{Header:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\trabajo_apolo\\proyectos\\apolo-frontend\\src\\components\\ui\\Header.tsx","Header")},78246:(a,b,c)=>{"use strict";c.d(b,{p:()=>e});var d=c(60687);c(43210);let e=({label:a,name:b,type:c="text",placeholder:e,register:f,required:g=!1,errors:h,defaultValue:i})=>(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("label",{htmlFor:b,className:"block text-sm font-semibold text-foreground",children:[a," ",g&&(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{id:b,type:c,placeholder:e,...f(b,{required:g}),className:`w-full placeholder:text-gray-400 bg-input text-sm rounded border px-3 py-1.5 focus:outline-none focus:ring ${h&&h[b]?"border-red-500 ring-red-500":"border-border ring-blue-500"}`,defaultValue:i}),h&&h[b]&&(0,d.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Este campo es obligatorio"})]})},96474:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};