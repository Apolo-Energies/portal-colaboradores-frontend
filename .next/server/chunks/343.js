exports.id=343,exports.ids=[343],exports.modules={515:(a,b,c)=>{"use strict";c.d(b,{LoadingOverlay:()=>g});var d=c(60687),e=c(12349);c(43210);var f=c(58252);let g=()=>(0,e.r)(a=>a.loading)?(0,d.jsx)("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,d.jsx)(f.A,{color:"#22d3ee",size:90}),(0,d.jsx)("p",{className:"text-white text-sm",children:"Cargando..."})]})}):null},9597:(a,b,c)=>{Promise.resolve().then(c.bind(c,99208)),Promise.resolve().then(c.bind(c,25864)),Promise.resolve().then(c.bind(c,98189)),Promise.resolve().then(c.bind(c,515))},10411:(a,b,c)=>{"use strict";c.d(b,{ModeToggle:()=>k});var d=c(60687),e=c(43210),f=c(21134),g=c(34318),h=c(363),i=c(10218),j=c(56990);function k(){let{setTheme:a,theme:b}=(0,i.D)(),[c,k]=(0,e.useState)(!1);if(!c)return null;let l=["light","dark","neutral"],m=(()=>{let a=l.indexOf(b??"light");return l[(a+1)%l.length]})();return(0,d.jsxs)(j.$,{className:"cursor-pointer",onClick:()=>a(m),variant:"outline",size:"icon",children:[(a=>{switch(a){case"dark":return(0,d.jsx)(f.A,{className:"h-[1.2rem] w-[1.2rem]"});case"neutral":return(0,d.jsx)(g.A,{className:"h-[1.2rem] w-[1.2rem]"});default:return(0,d.jsx)(h.A,{className:"h-[1.2rem] w-[1.2rem]"})}})(b),(0,d.jsx)("span",{className:"sr-only",children:"Cambiar tema"})]})}},10982:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(49384),e=c(82348);function f(...a){return(0,e.QP)((0,d.$)(a))}},12349:(a,b,c)=>{"use strict";c.d(b,{r:()=>d});let d=(0,c(26787).v)(a=>({loading:!1,setLoading:b=>a({loading:b})}))},21843:(a,b,c)=>{"use strict";c.d(b,{Alert:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call Alert() from the server but Alert is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\trabajo_apolo\\proyectos\\apolo-frontend\\src\\components\\ui\\Alert.tsx","Alert")},25864:(a,b,c)=>{"use strict";c.d(b,{ThemeProviderClient:()=>g});var d=c(60687),e=c(43210),f=c(10218);let g=({children:a})=>{let[b,c]=(0,e.useState)(!1);return((0,e.useEffect)(()=>{c(!0)},[]),b)?(0,d.jsx)(f.N,{attribute:"class",defaultTheme:"system",enableSystem:!1,themes:["light","dark","neutral"],children:a}):(0,d.jsx)("div",{className:"h-screen bg-white dark:bg-gray-900"})}},39453:(a,b,c)=>{Promise.resolve().then(c.bind(c,22175)),Promise.resolve().then(c.bind(c,92802)),Promise.resolve().then(c.bind(c,21843)),Promise.resolve().then(c.bind(c,84625))},55812:(a,b,c)=>{"use strict";c.r(b),c.d(b,{"602bf7ff4fbcfe218cd46db02d79f02cfa15a1d3b4":()=>r,"7f2cf4ea3f7fce6c0af9e8a3bc8bcaff986b14ed20":()=>s,"7ffeb573ccd14c9503d45c735284a7ef33c911f7ce":()=>t});var d=c(91199);c(42087);var e=c(83610),f=c(27314),g=c(35583),h=c(53491);process.env.NODE_TLS_REJECT_UNAUTHORIZED="0";let i=h.A.create({baseURL:"https://api.apoloenergies.es/api/apolo/v1",responseType:"json",withCredentials:!0}),j=async(a,b)=>{if(!a||!b)return{isSuccess:!1,displayMessage:"Email o contrase\xf1a vac\xedos",errorMessages:["Email o contrase\xf1a vac\xedos"],result:null,status:400};try{let c=await i.post("/auth/login",{email:a,password:b},{withCredentials:!1});return{isSuccess:!0,displayMessage:"Login exitoso",errorMessages:[],result:c.data.result.token,status:c.status}}catch(a){if(console.error("Login error:",a),h.A.isAxiosError(a))return{isSuccess:!1,displayMessage:a.response?.data?.message??"Unknown error",errorMessages:[a.response?.data?.message??"Unknown error"],result:null,status:a.response?.status??500};return{isSuccess:!1,displayMessage:"Unexpected error",errorMessages:["Unexpected error"],result:null,status:500}}};var k=c(37400);let l={pages:{signIn:"/",newUser:"/dashboard"},providers:[(0,f.A)({async authorize(a){let b=g.Ik({email:g.Yj().email(),password:g.Yj().min(6)}).safeParse(a);if(!b.success)return null;let{email:c,password:d}=b.data;try{let a=await j(c,d);if(!a||200!==a.status)return console.error("Credenciales incorrectas: ",a),null;let b=a.result,e=(0,k.s)(b);return{id:e.sub??e.id,email:e.email,role:e["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]??e.role??"user",token:b}}catch(a){return console.error("Error al autenticar:",a),null}}})],session:{strategy:"jwt"},callbacks:{jwt:async({token:a,user:b})=>(b&&("id"in b&&(a.id=b.id),"email"in b&&(a.email=b.email),"role"in b&&(a.role=b.role),"token"in b&&(a.accessToken=b.token)),a),session:async({session:a,token:b})=>(a.user={...a.user,id:b.id,email:b.email,role:b.role,token:b.accessToken},a)},trustHost:!0},{signIn:m,signOut:n,auth:o,handlers:p}=(0,e.Ay)(l);var q=c(33331);async function r(a,b){try{await m("credentials",b)}catch(a){if(a instanceof e.lR)if("CredentialsSignin"===a.type)return"Invalid credentials.";else return"Something went wrong.";throw a}}let s=async(a,b)=>{try{return await m("credentials",{email:a,password:b}),{ok:!0}}catch(a){return{ok:!1,message:"No se pudo iniciar sesion."}}};(0,q.D)([r,s]),(0,d.A)(r,"602bf7ff4fbcfe218cd46db02d79f02cfa15a1d3b4",null),(0,d.A)(s,"7f2cf4ea3f7fce6c0af9e8a3bc8bcaff986b14ed20",null);let t=async()=>{await n({redirectTo:"/"})};(0,q.D)([t]),(0,d.A)(t,"7ffeb573ccd14c9503d45c735284a7ef33c911f7ce",null)},56990:(a,b,c)=>{"use strict";c.d(b,{$:()=>j});var d=c(60687),e=c(43210),f=c(81391),g=c(24224),h=c(10982);let i=(0,g.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground cursor-pointer rounded-xl hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground cursor-pointer rounded-xl hover:bg-destructive/90",outline:"border border-popover-foreground rounded-xl bg-background cursor-pointer hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground cursor-pointer rounded-xl hover:bg-secondary/80",ghost:"hover:bg-accent rounded-xl cursor-pointer hover:text-accent-foreground",link:"text-primary underline-offset-4 rounded-xl cursor-pointer hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=e.forwardRef(({className:a,variant:b,size:c,asChild:e=!1,...g},j)=>{let k=e?f.DX:"button";return(0,d.jsx)(k,{className:(0,h.cn)(i({variant:b,size:c,className:a})),ref:j,...g})});j.displayName="Button"},61135:()=>{},61223:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>m,metadata:()=>l});var d=c(37413),e=c(67255),f=c.n(e);c(61135);var g=c(92802),h=c(22175);c(61120);let i=({children:a})=>(0,d.jsx)(h.SessionProvider,{children:a});var j=c(84625),k=c(21843);let l={title:"APOLO ENERGIES",description:"Portal de colaboradores"};function m({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${f().variable} antialiased`,children:(0,d.jsx)(i,{children:(0,d.jsxs)(g.ThemeProviderClient,{children:[a,(0,d.jsx)(k.Alert,{}),(0,d.jsx)(j.LoadingOverlay,{})]})})})})}},62626:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},70440:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(31658);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},84625:(a,b,c)=>{"use strict";c.d(b,{LoadingOverlay:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call LoadingOverlay() from the server but LoadingOverlay is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\trabajo_apolo\\proyectos\\apolo-frontend\\src\\components\\ui\\LoadingOverlay.tsx","LoadingOverlay")},92802:(a,b,c)=>{"use strict";c.d(b,{ThemeProviderClient:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call ThemeProviderClient() from the server but ThemeProviderClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\trabajo_apolo\\proyectos\\apolo-frontend\\src\\components\\providers\\ThemeProviderClient.tsx","ThemeProviderClient")},94170:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},96283:(a,b,c)=>{"use strict";c.d(b,{B:()=>d});let d=(0,c(26787).v)(a=>({alert:{message:"",type:"info",visible:!1},showAlert:(b,c)=>a({alert:{message:b,type:c,visible:!0}}),hideAlert:()=>a({alert:{message:"",type:"info",visible:!1}})}))},98189:(a,b,c)=>{"use strict";c.d(b,{Alert:()=>j});var d=c(60687),e=c(43210),f=c(96283),g=c(14719),h=c(43649),i=c(45583);let j=()=>{let{alert:a,hideAlert:b}=(0,f.B)();if((0,e.useEffect)(()=>{if(a.visible){let a=setTimeout(()=>b(),3e3);return()=>clearTimeout(a)}},[a.visible,b]),!a.visible)return null;let{bg:c,Icon:j}={success:{bg:"bg-green-500",Icon:g.A},error:{bg:"bg-red-500",Icon:h.A},info:{bg:"bg-blue-500",Icon:i.A}}[a.type];return(0,d.jsxs)("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 ${c} text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2`,children:[(0,d.jsx)(j,{className:"w-5 h-5"}),(0,d.jsx)("span",{className:"text-sm",children:a.message})]})}}};